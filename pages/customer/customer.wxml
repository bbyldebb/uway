<!-- customer.wxml -->
<scroll-view class="content flex">
  <view class="searchbar flex">
    <text class="logo">âœ¨å·¦å³æ»‘åŠ¨æŸ¥çœ‹ä¸åŒç•Œé¢</text>
    <button hover-class="none" size="mini" border-radius:15rpx>æœ‰å‘³</button>
  </view>
  <view class="flex main-axis-around switchBar">
    <view>èœå•</view>
    <view>è¯„ä»·</view>
    <view>å•†å®¶</view>
    <view>æˆ‘çš„è®¢å•</view>
    <view class="flex" bindtap="callWaiter">
      <view>ğŸ‘¸å‘¼å«</view>
      <mp-icon icon="bellring-on" size="25" color="rgb(0,128,0)"></mp-icon>
    </view>
  </view>
  <swiper>
    <swiper-item class="flex cross-axis-start">
      <scroll-view scroll-y class="menuClass">
        <view class="menuClassItem flex" wx:for="{{menuClass}}" data-name="{{item}}" bindtap="showExplicit">
          {{item}}
        </view>
        <view style="height:100rpx;"></view>
      </scroll-view>
      <scroll-view scroll-y class="menuDetail">
        <view class="flex menuDetailItem" wx:for="{{menuDetail}}" wx:if="{{item.class == curnav||curindex==0}}" bindtap="showDetail" data-index="{{index}}">
          <image src="{{item.image}}" style="width:320rpx;height: 200rpx;" />
          <view class="dishDsc">
            <view style="font-weight: 900;font-size: 35rpx;min-height: 30%;">{{item.name}}</view>
            <view style="min-height: 30%; color: rgb(	105,105,105);">{{item.description}}</view>
            <view class="dscBottom flex main-axis-between" style="flex:1;" bindtap="AddorMinus">
              <view style="color: rgb(255,0,0,0.6);font-weight: 900;font-size: 35rpx;flex:1;">
                ï¿¥{{item.price}}
              </view>
              <image style="width:45rpx;height:45rpx;" src="../../static/img/minus.png" data-index="{{index}}" bindtap="minusDish" />
              <view>{{item.num}}</view>
              <image style="width:45rpx;height:45rpx;padding-right:25rpx;" src="../../static/img/add.png" data-index="{{index}}" bindtap="addDish" />
            </view>
          </view>
        </view>
        <view style="height:80rpx;"></view>
      </scroll-view>
      <!-- åº•éƒ¨æäº¤è®¢å• -->
      <view class="orderList flex">
        <view class="cartIcon" bindtap="showCart">
          <image style="width:95rpx; height:95rpx; margin-top: 10rpx" src="../../static/img/order.png" />
        </view>
        <view class="totalMoney" bindtap="showCart">æ€»è®¡{{totalMoney}}å…ƒï¼Œ{{totalNum}}ä»¶</view>
        <view class="confirmBtn" bindtap="submitOrder">æäº¤è®¢å•</view>
      </view>
      <!-- è’™å±‚èƒŒæ™¯ -->
      <view class="maskBg" wx:if="{{showCart}}" bindtap="hideCart"></view>
      <!-- è´­ç‰©è½¦åˆ—è¡¨ -->
      <view class="cartList" wx:if="{{showCart}}">
        <view class="cart-top">
          <view bindtap="clearOrder">æ¸…ç©º</view>
          <view style="font-size: 32rpx">å…¨éƒ¨è®¢å•</view>
          <view bindtap="hideCart">è¿”å›</view>
        </view>
        <scroll-view scroll-y class="cart-content" style="height:100%; margin-top:65rpx;overflow:auto;padding-bottom:75rpx;">
          <view wx:for="{{orderDetail}}" data-index="{{index}}">
            <view class="order-item flex">
              <view class="flex" style="width:80%">
                <view>{{item.name}}</view>
                <view style="color:red;padding-left:20rpx;">{{item.price}}</view>
              </view>
              <view class="flex" style="width:20%;">
                <image style="width:40rpx;height:40rpx;" src="../../static/img/minus.png" data-index="{{index}}" bindtap="minusDishIn" />
                <view style="padding: 0 15rpx;">{{item.num}}</view>
                <image style="width:40rpx;height:40rpx;padding-right:25rpx;" src="../../static/img/add.png" data-index="{{index}}" bindtap="addDishIn" />
              </view>
              <!-- <view style="width:10%;">
                <mp-icon size="{{25}}" icon="close2" color="darkgray"></mp-icon>
              </view> -->
            </view>
          </view>
          <view style="height:75rpx;"></view>
        </scroll-view>
      </view>
    </swiper-item>
    <swiper-item class="flex cross-axis-start">
      <scroll-view scroll-y class="commentDetail">
        <view class="flex commentDetailItem" wx:for="{{comment}}">
          <view class="customer-info">
            <image mode="widthFix" src="{{item.avatarUrl}}" />
            <view class="customer-info-word">
              <view>{{item.nickName}}</view>
              <view>{{item.commentTime}}</view>
            </view>
          </view>
          <view class="rating">
            <view class="ratingbox">
              <view class="text">èœå“</view>
              <view class="stars">
                <view wx:for="{{item.dishstars}}" wx:key="" class="single" style='background:url("{{item.flag==1?bgImg:bgfImg}}") no-repeat center; background-size:50%;' data-index="{{index}}">{{item.dishstars}}</view>
              </view>
            </view>
            <view class="ratingbox">
              <view class="text">é¤é¦†</view>
              <view class="stars">
                <view wx:for="{{item.reststars}}" wx:key="" class="single" style='background:url("{{item.flag==1?bgImg:bgfImg}}") no-repeat center; background-size:50%;' data-index="{{index}}"></view>
              </view>
            </view>
            <view class="ratingbox">
              <view class="text">æœåŠ¡</view>
              <view class="stars">
                <view wx:for="{{item.waiterstars}}" wx:key="" class="single" style='background:url("{{item.flag==1?bgImg:bgfImg}}") no-repeat center; background-size:50%;' data-index="{{index}}"></view>
              </view>
            </view>
          </view>
          <view class="commentDsc">
            <view>{{item.commentContent}}</view>
            <image mode="heightFix" src="{{item.commentPhoto}}" wx:if="{{item.commentPhoto!=''}}" />
          </view>

        </view>
      </scroll-view>
      <view class="toComment">
        <!-- <i-icon class="toComment" type="add" size="80" color="black" /> -->
        <mp-icon class="toComment" icon="add2" type="field" color="orange" size="{{80}}" bindtap='toComment'></mp-icon>
      </view>
    </swiper-item>
    <swiper-item>è¿™é‡Œæ˜¯è¿˜åœ¨å»ºè®¾ä¸­çš„å•†å®¶ä¿¡æ¯ç•Œé¢</swiper-item>
    <swiper-item>è¿™é‡Œæ˜¯è¿˜åœ¨å»ºè®¾ä¸­çš„æœç´¢ç»“æœç•Œé¢</swiper-item>
  </swiper>
  <dish-card show="{{showDishCard}}" dishID="{{cardID}}" id="dishcard"></dish-card>
  <modal wx:if="{{showTable}}" title="è¯·è¾“å…¥æ‚¨çš„æ¡Œå·" confirm-text="ç¡®å®š" cancel-text="å–æ¶ˆ" bindcancel="cancelTable" bindconfirm="confirmTable">
    <input bindinput='inputTable' placeholder="è¯·è¾“å…¥æ‚¨æ‰€åœ¨çš„æ¡Œå· (1åˆ°9) ç”¨äºè®¢å•æäº¤..." />
  </modal>
</scroll-view>